# CRM项目需求规格说明

## 1. 项目概述

AlustarsCRM是一个以外贸项目管理为核心的现代化CRM系统，专为外贸企业打造。系统集成了客户关系管理、项目管理、销售流程、采购管理、物流单证、财务管理等功能模块，提供完整的外贸业务解决方案。

## 2. 核心功能模块划分

### 2.1 项目中心
- 项目管理：创建、编辑、跟踪项目进度
- 项目工作流：基于节点的项目进度管理
- 项目统计：项目数量、状态、阶段统计

### 2.2 客户管理
- 线索管理：潜在客户跟踪
- 客户信息：客户资料维护
- 客户统计：客户数量、信用等级分布

### 2.3 销售管理
- 报价管理：报价单创建、编辑、审批
- 样品管理：样品申请、跟踪
- 客户PO管理：客户采购订单处理
- 形式发票：发票生成和管理
- 合同管理：合同签署和跟踪

### 2.4 采购管理
- 供应商管理：供应商信息维护和评级
- 采购订单：采购流程管理
- 产品管理：产品信息维护

### 2.5 物流单证
- 订舱管理：货物运输订舱
- 提单管理：海运提单处理
- 商业发票：出口商业发票
- 装箱单：货物装箱信息

### 2.6 财务管理
- 汇率管理：多货币汇率维护
- 收付款管理：客户收付款跟踪

### 2.7 风险合规
- 风险监控：客户风险预警
- 合规管理：合规检查和报告

### 2.8 系统管理
- 用户管理：用户账户和角色分配
- 权限管理：基于角色的权限控制
- 系统设置：系统配置参数

## 3. 用户角色和权限设计

### 3.1 用户角色
1. **管理员(ADMIN)**：系统超级用户，拥有所有权限
2. **销售(SALES)**：负责客户管理、项目管理、报价等销售相关功能
3. **采购(PROCUREMENT)**：负责供应商管理、采购订单等采购相关功能
4. **财务(FINANCE)**：负责财务管理、发票、收付款等财务相关功能
5. **物流(LOGISTICS)**：负责物流单证处理
6. **风控(RISK)**：负责风险监控和合规管理

### 3.2 权限控制
- 基于RBAC(基于角色的访问控制)模型
- 细粒度权限控制（查看、编辑、删除等）
- 功能级权限控制（模块访问权限）

## 4. 数据模型和关键字段定义

### 4.1 客户模型(Customer)
- id: 客户唯一标识
- name: 客户简称
- companyFullName: 公司全称
- phone: 联系电话
- email: 邮箱地址
- country: 国家
- address: 地址
- creditLevel: 信用等级(AA/A/B/C)
- taxNumber: 税号
- currency: 货币类型
- language: 语言偏好
- notes: 备注
- ndaUrl: NDA文件URL

### 4.2 项目模型(Project)
- id: 项目唯一标识
- projectNumber: 项目编号
- name: 项目名称
- description: 项目描述
- customerId: 关联客户ID
- ownerId: 项目负责人ID
- budget: 项目预算
- targetMargin: 目标利润率
- startDate: 开始日期
- endDate: 结束日期
- status: 项目状态(Active/OnHold/Completed/Cancelled)
- stage: 项目阶段(Prospecting/Negotiation/Sampling/Production/Completed)

### 4.3 供应商模型(Supplier)
- id: 供应商唯一标识
- name: 供应商名称
- country: 国家
- address: 地址
- category: 供应商分类
- status: 状态
- rating: 评级分数
- notes: 备注

### 4.4 报价模型(Quotation)
- id: 报价单唯一标识
- projectId: 关联项目ID
- customerId: 关联客户ID
- currency: 货币类型
- validUntil: 有效期
- status: 状态(Draft/Sent/Approved/Rejected/Expired)
- version: 版本号
- notes: 备注
- terms: 条款条件

## 5. 主要业务流程

### 5.1 客户管理流程
1. 线索录入 → 客户转化 → 客户信息维护 → 客户评级 → 客户跟进

### 5.2 项目管理流程
1. 项目创建 → 项目分配 → 工作流节点推进 → 项目执行 → 项目完成

### 5.3 销售流程
1. 报价创建 → 报价发送 → 客户确认 → 生成客户PO → 形式发票 → 合同签署

### 5.4 采购流程
1. 供应商选择 → 采购订单创建 → 供应商确认 → 货物跟踪 → 收货确认

### 5.5 物流流程
1. 订舱申请 → 船公司确认 → 货物装运 → 提单签发 → 到港通知

## 6. UI交互逻辑和页面跳转关系

### 6.1 导航结构
- 项目中心 → 项目列表/项目详情
- 客户管理 → 线索管理/客户信息
- 销售管理 → 报价管理/样品管理/客户PO/形式发票/合同管理
- 采购管理 → 供应商管理/采购订单/产品管理
- 物流单证 → 订舱管理/提单管理/商业发票/装箱单
- 风险合规 → 风险监控/合规管理
- 系统管理 → 用户管理/权限管理/系统设置

### 6.2 页面交互
- 列表页面：支持搜索、筛选、排序
- 详情页面：展示详细信息，提供编辑、删除等操作
- 表单页面：数据录入和编辑
- 仪表板：数据可视化展示

## 7. 第三方集成需求

### 7.1 API集成
- 内部API：基于RESTful API的后端服务
- 认证授权：JWT Token认证机制

### 7.2 外部服务
- Excel导入导出：客户数据、报表等
- 图表展示：使用Recharts进行数据可视化
- 国际化：多语言支持(中英文)

### 7.3 工作流引擎
- 项目工作流：基于节点的项目进度管理
- 审批流程：报价审批等业务流程

## 8. 非功能性需求

### 8.1 性能要求
- 页面加载时间不超过3秒
- 支持并发用户访问

### 8.2 安全要求
- 数据传输加密
- 用户身份认证和授权
- 数据访问权限控制

### 8.3 可用性要求
- 响应式设计，支持桌面和移动端访问
- 直观的用户界面
- 完善的错误处理和提示机制

 